<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Introduction to Development Policy</title>
    <meta charset="utf-8" />
    <meta name="author" content="Trinh Pham" />
    <script src="libs/header-attrs-2.28/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/metropolis.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/metropolis-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="custom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Introduction to Development Policy
]
.subtitle[
## Lecture 3: Stata Basics for Data Analysis
]
.author[
### Trinh Pham
]
.institute[
### KDI School of Public Policy and Management
]
.date[
### Fall 2025
]

---


# Plan for this week

- **Data collection** is fundamental for measuring and understanding social and economic realities.

--

- Using **poverty data** as an example, we’ll explore the structure and key variables that underpin meaningful analysis.

--

- You’ll learn basic **descriptive statistics** to summarize and interpret data effectively.

--

- An introduction to the **Stata interface and workflow** will demonstrate how to analyze data efficiently and reproducibly.

--

- **Hands-on practice** during TA sessions will give you the opportunity to apply these skills with real poverty datasets.

---

class: inverse, middle, center

# 

&lt;div style="font-size: 28px; text-align: center;"&gt;
  Data Concepts: A Focus on Poverty Data
&lt;/div&gt; 


---

# Why data?

- Data is essential for **understanding the true scale and nature of poverty**—who is poor, how poor, and where.

--

- Reliable data enables policymakers and development agencies to **design effective, targeted interventions**.

--

- Without data, efforts to reduce poverty are based on guesswork rather than evidence.

--

- Household surveys and statistical measurements give us a **clear picture of poverty dynamics and changes over time**.

--

- Data-driven insights help track progress, identify vulnerable groups, and allocate resources efficiently.

--

- How do you think poverty data are collected?

---

# How poverty data are collected?

The primary method is **household surveys**, where selected households are interviewed about income, expenditure, and living conditions.

--

Surveys use **sampling methods** to represent the entire population without surveying everyone.

--

Questions cover topics like food consumption, housing expenses, education, healthcare, and asset ownership.

--

Data is often collected based on **specific recall periods** (e.g., last week, last month) to improve accuracy.

--

Ensuring data quality involves carefully designing surveys and training enumerators to reduce errors.


---

class: inverse, middle

I’d like to ask you some questions—please answer them as best as you can.

--

Over the past 7 days, how many meals did you eat that included rice?

--

Can you estimate the total amount of rice (in cups, bowls, or grams) you consumed during those meals?

--

How do you think your estimate would differ if asked about 30 days instead of 7 days?

--

We will look at some specific household survey questionnaires and discuss potential issues with them.



---

# Example of household surveys

&lt;div style="text-align: center;"&gt;
  &lt;img src="figtabs/lsms.png" style="width: 100%; max-width: 700px;" /&gt; &lt;br&gt;
  &lt;a href="https://www.worldbank.org/en/programs/lsms"&gt;https://www.worldbank.org/en/programs/lsms&lt;/a&gt;
  &lt;/div&gt; 
  
- The survey collects data on income, expenditure, health, education, and assets in many developing countries. 

---

class: inverse

Next, I will show you an example: the Malawi Fourth Integrated Household Survey, part of LSMS.

--

Let's discuss the following questions:

- What information is this survey collecting from households?

- Why are there separate columns for purchases, own production, gifts, and other sources?

- What challenges arise in accurately reporting how much was consumed or spent?

- What problems might occur if respondents forget details about food items or quantities in the past week?

- How might using different units (e.g., kilogram, pail, bunch) cause errors or confusion?

- Could answers vary depending on who in the household responds?

- How might local food customs or sharing affect data accuracy?


---

# Malawi Fourth Integrated Household Survey

&lt;div style="text-align: center;"&gt;
  &lt;img src="figtabs/malawi.png" style="width: 100%; max-width: 1000px;" /&gt; 
&lt;/div&gt; 


---

class: inverse, middle, center

# 

&lt;div style="font-size: 26px; text-align: center;"&gt;
  From this example, what do you think are the challenges with this type of surveys?
&lt;/div&gt; 


  
---

# Challenges with food consumption surveys

**Recall bias**: Respondents may forget or misreport food consumed, especially with longer recall periods.

--

Yet there is a trade-off: shorter reference periods allow recall over that same period to be less prone to forgetting

- but shorter reference provides a poor guide to typical, long-run living standards

&lt;div style="text-align: center;"&gt;
  &lt;img src="figtabs/food1.png" style="width: 100%; max-width: 500px;" /&gt; 
&lt;/div&gt; 

---

# Challenges with food consumption surveys

**Seasonality and variability**: Consumption can vary widely by month, day of the month, and day of the week, making single-period surveys less representative.

&lt;div style="text-align: center;"&gt;
  &lt;img src="figtabs/food2.png" style="width: 100%; max-width: 1200px;" /&gt; 
&lt;/div&gt; 

---

# Challenges with food consumption surveys

**Respondent understanding**: Complex questionnaires and technical terms may confuse respondents, affecting data quality.

**Measurement errors**: Difficulty in accurately estimating quantities and converting local units to standardized measures (kg, liters).

**Social desirability bias**: Respondents may over- or under-report consumption due to perceived expectations or stigma.

**Household dynamics**: Differences in intra-household food sharing and multiple respondents can lead to inconsistent answers.

&lt;div&gt;
  &lt;a href="https://documents1.worldbank.org/curated/en/793601587034078451/pdf/Food-Data-Collection-in-Household-Consumption-and-Expenditure-Surveys-Guidelines-for-Low-and-Middle-Income-Countries.pdf"&gt;https://documents1.worldbank.org/curated/en/793601587034078451/pdf/Food-Data-Collection-in-Household-Consumption-and-Expenditure-Surveys-Guidelines-for-Low-and-Middle-Income-Countries.pdf&lt;/a&gt;
  &lt;/div&gt; 

---

# These challenges are not unique to food consumption

&lt;div style="text-align: center;"&gt;
  &lt;img src="figtabs/malawi2.png" style="width: 100%; max-width: 1000px;" /&gt; 
&lt;/div&gt; 
  
  
---

# These challenges are not unique to food consumption

&lt;div style="text-align: center;"&gt;
  &lt;img src="figtabs/malawi3.png" style="width: 100%; max-width: 1000px;" /&gt; 
&lt;/div&gt; 

---

# Measurement errors and development research

Household consumption aggregates many components—food, non-food items, durable goods, and more.

--

When each component is subject to measurement errors or reporting challenges, these errors can **accumulate**, potentially magnifying inaccuracies in total consumption estimates.

--

Despite these challenges, household surveys remain **the standard** for assessing well-being and poverty globally.

--

They provide **critical, detailed information** that underpins poverty measurement, policy design, and impact evaluation.

--

Understanding the caveats helps us interpret poverty data with appropriate caution, while valuing its indispensable role in development research.


---

class: inverse, middle, center

# 

&lt;div style="font-size: 25px; text-align: center;"&gt;
  Now that we understand how household data are collected, what does the data actually look like?
&lt;/div&gt;



---

# What does the data look like?

From household-level data, we can compute per capita or per equivalent adult measure of consumption/income.

--

This is cleaned survey data from a sample of Mexican households. **What information can you find here?**

&lt;div style="text-align: center;"&gt;
  &lt;img src="figtabs/household_data.png" style="width: 100%; max-width: 1000px;" /&gt; 
&lt;/div&gt; 


---

class: inverse

Now that we have cleaned survey data.

--

How to compute poverty measure from the data?

--

Recall that we use a **poverty line**—a threshold of consumption needed for basic living—to classify households as poor or not.

--

Based on this classification, we can compute the three key poverty indicators:

- Headcount Ratio (P0): Proportion of the population below the poverty line.

- Poverty Gap (P1): Average shortfall of the poor from the poverty line.

- Poverty Severity (P2): Inequality among the poor, emphasizing deeper poverty.

--

These indicators help quantify and analyze poverty, guiding policy and intervention efforts.




---

class: inverse, middle, center

# 

&lt;div style="font-size: 28px; text-align: center;"&gt;
  How poverty measures are computed from data?
&lt;/div&gt;

---

# Poverty measures and household data

The Mexican government introduced two moderate poverty lines, separately for urban and rural households.

&lt;div style="text-align: center;"&gt;
  &lt;img src="figtabs/household_data3.png" style="width: 100%; max-width: 900px;" /&gt; 
&lt;/div&gt; 

--

How to determine whether these households are poor or non-poor?


---

# Poverty measures and household data

The Mexican government introduced two moderate poverty lines, separately for urban and rural households.

&lt;div style="text-align: center;"&gt;
  &lt;img src="figtabs/household_data3.png" style="width: 100%; max-width: 900px;" /&gt; 
&lt;/div&gt; 

We can **compare the household consumption per capita with the respective poverty line**.

---

# Poverty measures and household data

The Mexican government introduced two poverty lines, separately for urban and rural households.

&lt;div style="text-align: center;"&gt;
  &lt;img src="figtabs/household_data4.png" style="width: 100%; max-width: 900px;" /&gt; 
&lt;/div&gt; 

Households whose consumption per capita is below the poverty line is poor `\((poor = 1)\)`.

---

# Poverty measures and household data

In our example here, we have **poor** as a simple **poverty indicator variable**:

  - 1 if the household is **poor** (consumption below the poverty line)
  
  - 0 if **non-poor**
  
--

How can we calculate the poverty headcount ratio/poverty rate `\((P^0)\)` from this?

--

The poverty headcount ratio `\((P^0)\)` is just the average (mean) of this indicator across all households:

`$$P^0 = \frac{q}{n} = \frac{\text{Number of Poor Households}}{\text{Total Number of Households}} = \text{mean(poor indicator)}$$`

--

This links poverty indicator to a basic statistical concept — the mean of a 0/1 variable represents a proportion or percentage. 

--

```
summarize(poor)
```
&lt;div style="text-align: center;"&gt;
  &lt;img src="figtabs/summary.png" style="width: 100%; max-width: 600px;" /&gt; 
&lt;/div&gt; 


---

# Poverty measures and household data

Similarly, the poverty gap `\((P^1)\)` is the mean of how much poor households fall below the poverty line, reflecting the average shortfall among the population.

`$$P^1 = \frac{\sum_{i=1}^q(z-y_i)}{nz}$$`

--

Poverty severity `\((P^2)\)` accounts for the squared poverty gaps, emphasizing the depth and inequality of poverty among the poor.

`$$P^2 = \frac{1}{n}\sum_{i=1}^{q}(\frac{z - y_i}{z})^{2}$$`

--

All three indicators are computed as means (averages) but over different variables derived from household consumption relative to the poverty line.

--

In the TA sessions, you will learn how to compute other poverty indicators using Stata.


---

class: inverse, middle, center

# 

&lt;div style="font-size: 28px; text-align: center;"&gt;
  Introduction to Stata
&lt;/div&gt; 

---

# What is Stata? 

Stata is a powerful statistical software commonly used in economics, social sciences, and development research.

--

It allows for data management, statistical analysis, and graphical visualization with relatively simple commands.

--

Stata is widely used for analyzing household survey data, including poverty measurement.

--

Benefits include:

- User-friendly interface and command syntax

- Ability to handle large datasets efficiently

- Support for reproducibility through do-files (scripts)

- Extensive built-in statistical and econometric functions


---

# Stata interface overview

The main components of the Stata interface:

- **Command Window**: Where you type commands and run analyses.

- **Results Window**: Displays output and results of commands.

- **Variables Window**: Lists dataset variables; provides quick access.

- **Review Window**: Keeps track of recent commands entered.

- **Do-file Editor**: Text editor for writing and saving scripts (do-files) for reproducibility.

&lt;div style="text-align: center;"&gt;
  &lt;a href="https://www.youtube.com/watch?v=gdnDkjoPJTM"&gt;https://www.youtube.com/watch?v=gdnDkjoPJTM&lt;/a&gt;
&lt;/div&gt; 

--

Navigating these windows efficiently is key to productive Stata use.

---

# Stata workflow overview 

Typical workflow steps in Stata:

- **Import Data**: Load datasets from various formats (CSV, Excel, .dta files).

- **Explore Data**: Summarize variables, check for missing data, list observations.

- **Clean and Prepare**: Create or modify variables, label data, handle missing values.

- **Analyze**: Run statistical summaries, regressions, generate poverty measures.

- **Visualize**: Create graphs and charts to interpret results.

- **Document**: Write do-files and save log files for reproducibility.

&lt;div style="text-align: center;"&gt;
  &lt;a href="https://www.youtube.com/watch?v=gdnDkjoPJTM"&gt;https://www.youtube.com/watch?v=gdnDkjoPJTM&lt;/a&gt;
&lt;/div&gt; 

---

class: inverse, middle, center

# 

&lt;div style="font-size: 28px; text-align: center;"&gt;
  Do you have any questions? 
&lt;/div&gt; 


---

# Plan for next week

- **Monday**: Evidence-based Policy
  
  - Correlation and regression
  

- **Wednesday**: Correlation vs. Causality

  - Counterfactual thinking

  

---

class: inverse, middle, center

# 

&lt;div style="font-size: 28px; text-align: center;"&gt;
  Thank you!
&lt;/div&gt; 









    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
